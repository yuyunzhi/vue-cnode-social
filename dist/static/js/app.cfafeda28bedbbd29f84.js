webpackJsonp([1],{"3Y+m":function(t,n){},"G/2H":function(t,n,s){t.exports=s.p+"static/img/loading.0dbc362.gif"},N1dr:function(t,n){},NHnr:function(t,n,s){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=s("7+uW"),e={render:function(){var t=this.$createElement,n=this._self._c||t;return n("div",{staticClass:"header clearfix"},[n("router-link",{attrs:{to:{name:"root"}}},[n("img",{attrs:{src:"https://o4j806krb.qnssl.com/public/images/cnodejs_light.svg",alt:""}})]),this._v(" "),this._m(0)],1)},staticRenderFns:[function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("ul",[s("li",[s("a",{attrs:{href:"#"}},[t._v("首页")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#"}},[t._v("入门")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#"}},[t._v("API")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#"}},[t._v("关于")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#"}},[t._v("注册")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#"}},[t._v("登录")])])])}]};var i=s("VU/8")({},e,!1,function(t){s("3Y+m")},"data-v-a507012a",null).exports,r={render:function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("div",{staticClass:"pagination"},[s("button",{on:{click:function(n){t.changeBtn("first")}}},[t._v("首页")]),t._v(" "),s("button",{on:{click:function(n){t.changeBtn("pre")}}},[t._v("上一页")]),t._v(" "),t.jduge?s("button",{staticClass:"pagebtn"},[t._v("......")]):t._e(),t._v(" "),t._l(t.pagebtns,function(n){return s("button",{class:[{currentPage:n==t.currentPage},"pagebtn"],on:{click:function(s){t.changeBtn(n)}}},[t._v("\r\n    "+t._s(n)+"\r\n  ")])}),t._v(" "),t.jduge?s("button",{staticClass:"pagebtn"},[t._v("......")]):t._e(),t._v(" "),s("button",{on:{click:function(n){t.changeBtn("next")}}},[t._v("下一页")])],2)},staticRenderFns:[]};var o={data:function(){return{isLoading:!0,posts:[],page:1}},beforeMount:function(){this.isLoading=!0,this.getData()},methods:{getData:function(){var t=this;this.$http.get("https://cnodejs.org/api/v1/topics",{params:{page:this.page,limit:20}}).then(function(n){t.isLoading=!1,t.posts=n.data.data}).catch(function(t){console.log(ereror)})},reloadPage:function(t){this.page=t,this.getData()}},components:{Pagination:s("VU/8")({name:"Pagination",data:function(){return{pagebtns:[1,2,3,4,5],currentPage:1,jduge:!1}},methods:{changeBtn:function(t){"first"==t?(this.currentPage=1,this.jduge=!1,this.pagebtns=[1,2,3,4,5]):"pre"==t?((t=this.currentPage)<=1?(t=2,this.currentPage=1):t==this.pagebtns[0]&&1!=t&&(t<=2&&(this.jduge=!1),this.pagebtns.unshift(this.pagebtns[0]-1),this.pagebtns.splice(5,1)),this.currentPage=t-1):"next"==t?((t=this.currentPage)==this.pagebtns[4]&&(this.jduge=!0,this.pagebtns.shift(),this.pagebtns.splice(4,0,this.pagebtns[3]+1)),this.currentPage=t+1):(this.currentPage=t,this.jduge=t>4,t==this.pagebtns[4]?(this.pagebtns.shift(),this.pagebtns.splice(4,0,this.pagebtns[3]+1)):t==this.pagebtns[0]&&1!=t&&(this.pagebtns.unshift(this.pagebtns[0]-1),this.pagebtns.splice(5,1))),this.$emit("changePage",this.currentPage)}}},r,!1,function(t){s("zdKG")},"data-v-2ef2f1b7",null).exports}},c={render:function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("div",{staticClass:"PostList"},[t.isLoading?a("div",{staticClass:"loading"},[a("img",{attrs:{src:s("G/2H")}})]):a("div",{staticClass:"posts"},[t._m(0),t._v(" "),a("ul",{staticClass:"list"},t._l(t.posts,function(n){return a("li",[a("img",{attrs:{src:n.author.avatar_url,alt:""}}),t._v(" "),a("span",{staticClass:"allcount"},[a("span",{staticClass:"reply_count"},[t._v(t._s(n.reply_count))]),t._v("\n         /"+t._s(n.visit_count)+"\n       ")]),t._v(" "),a("span",{class:[{put_good:1==n.good,put_top:1==n.top,"topiclist-tab":1!=n.good&&1!=n.top}]},[a("span",[t._v("\n           "+t._s(t._f("tabFormatter")(n))+"\n         ")])]),t._v(" "),a("router-link",{attrs:{to:{name:"post_content",params:{id:n.id,name:n.author.loginname}}}},[a("span",[t._v("\n         "+t._s(n.title)+"\n        ")])]),t._v(" "),a("span",{staticClass:"last_reply"},[t._v("\n         "+t._s(t._f("formatDate")(n.last_reply_at))+"\n       ")])],1)}))]),t._v(" "),a("Pagination",{on:{changePage:function(n){t.reloadPage(n)}}})],1)},staticRenderFns:[function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("ul",[s("li",[s("div",{staticClass:"toobar"},[s("span",[t._v("全部")]),t._v(" "),s("span",[t._v("精华")]),t._v(" "),s("span",[t._v("分享")]),t._v(" "),s("span",[t._v("问答")]),t._v(" "),s("span",[t._v("招聘")])])])])}]};var l=s("VU/8")(o,c,!1,function(t){s("xkH5")},"data-v-9d06c6dc",null).exports,u={name:"App",components:{Header:i,PostList:l}},p={render:function(){var t=this.$createElement,n=this._self._c||t;return n("div",{staticClass:"app",attrs:{id:"app clearfix"}},[n("Header"),this._v(" "),n("div",{staticClass:"main"},[n("router-view",{attrs:{name:"main"}}),this._v(" "),n("router-view",{attrs:{name:"SliderBar"}})],1)],1)},staticRenderFns:[]};var _=s("VU/8")(u,p,!1,function(t){s("oFyd")},null,null).exports,v=s("/ocq"),d={name:"Article",data:function(){return{isLoading:!1,post:{},hasReply:!0}},methods:{getArticleData:function(){var t=this;this.$http.get("https://cnodejs.org/api/v1/topic/"+this.$route.params.id).then(function(n){1==n.data.success&&(t.isLoading=!1,t.post=n.data.data,t.post.replies.length<=0&&(t.hasReply=!1))}).catch(function(t){console.log(t)})}},beforeMount:function(){this.isLoading=!0,this.getArticleData()},watch:{$route:function(t,n){this.getArticleData()}}},h={render:function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("div",{staticClass:"article"},[a("div",{staticClass:"container"},[t.isLoading?a("div",{staticClass:"loading"},[a("img",{attrs:{src:s("G/2H")}})]):a("div",[a("div",{staticClass:"topic_header"},[a("div",{staticClass:"topic_title"},[t._v(t._s(t.post.title))]),t._v(" "),a("ul",[a("li",[t._v("•发布于："+t._s(t._f("formatDate")(t.post.create_at)))]),t._v(" "),a("li",[t._v("• 作者：\n       "+t._s(t.post.author.loginname)+"\n       ")]),t._v(" "),a("li",[t._v("• "+t._s(t.post.visit_count)+"次浏览")]),t._v(" "),a("li",[t._v("•来自"+t._s(t._f("tabFormatter")(t.post)))])]),t._v(" "),a("div",{staticClass:"topic_content",domProps:{innerHTML:t._s(t.post.content)}})]),t._v(" "),t.hasReply?a("div",{attrs:{id:"reply"}},[a("div",{staticClass:"topbar"},[t._v("回复")]),t._v(" "),t._l(t.post.replies,function(n,s){return a("div",{staticClass:"replySec"},[a("div",{staticClass:"replyUp"},[a("router-link",{attrs:{to:{name:"user_info",params:{name:n.author.loginname}}}},[a("img",{attrs:{src:n.author.avatar_url,alt:""}})]),t._v(" "),a("router-link",{attrs:{to:{name:"user_info",params:{name:n.author.loginname}}}},[a("span",[t._v(t._s(n.author.loginname))])]),t._v(" "),a("span",[t._v("\n         "+t._s(s+1)+"楼\n       ")]),t._v(" "),n.ups.length>0?a("span",[t._v("\n         ☝ "+t._s(n.ups.length)+"\n       ")]):a("span")],1),t._v(" "),a("p",{staticClass:"discuss",domProps:{innerHTML:t._s(n.content)}})])})],2):t._e(),t._v(" "),a("div",{staticClass:"background"})])])])},staticRenderFns:[]};var f=s("VU/8")(d,h,!1,function(t){s("N1dr")},null,null).exports,g={name:"UserInfo",data:function(){return{isLoading:!1,userinfo:{},hasReplies:!0,hasTopics:!0}},methods:{getData:function(){var t=this;this.$http.get("https://cnodejs.org/api/v1/user/"+this.$route.params.name).then(function(n){t.isLoading=!1,t.userinfo=n.data.data,t.userinfo.recent_replies.length<=0&&(t.hasReplies=!1),t.userinfo.recent_topics<=0&&(t.hasTopics=!1)}).catch(function(t){console.log(t)})}},beforeMount:function(){this.isLoading=!0,this.getData()}},m={render:function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("div",{staticClass:"UserInfo"},[a("div",{staticClass:"background"}),t._v(" "),t.isLoading?a("div",{staticClass:"loading"},[a("img",{attrs:{src:s("G/2H")}})]):a("div",{staticClass:"userInfomation"},[a("section",{staticClass:"mainPage"},[a("router-link",{attrs:{to:{name:"root"}}},[a("div",[t._v("主页 / ")])]),t._v(" "),a("img",{attrs:{src:t.userinfo.avatar_url}}),t._v(" "),a("span",[t._v(t._s(t.userinfo.loginname))]),t._v(" "),a("p",[t._v("\n       "+t._s(t.userinfo.score)+"积分\n     ")]),t._v(" "),a("p",[t._v("\n       注册时间："+t._s(t._f("formatDate")(t.userinfo.create_at))+"\n     ")])],1),t._v(" "),t.hasReplies?a("div",{staticClass:"replies"},[a("p",[t._v("回复的主题")]),t._v(" "),a("ul",t._l(t.userinfo.recent_replies,function(n){return a("li",[a("router-link",{attrs:{to:{name:"post_content",params:{id:n.id}}}},[t._v("\n           "+t._s(n.title)+"\n         ")])],1)}))]):t._e(),t._v(" "),t.hasTopics?a("div",{staticClass:"topics"},[a("p",[t._v("创建的主题")]),t._v(" "),a("ul",t._l(t.userinfo.recent_topics,function(n){return a("li",[a("router-link",{attrs:{to:{name:"post_content",params:{id:n.id}}}},[t._v("\n           "+t._s(n.title)+"\n         ")])],1)}))]):t._e()])])},staticRenderFns:[]};var b=s("VU/8")(g,m,!1,function(t){s("ySXB")},"data-v-2070e79e",null).exports,C={name:"SlideBar",data:function(){return{isLoading:!1,userinfo:{}}},methods:{getData:function(){var t=this;this.$http.get("https://cnodejs.org/api/v1/user/"+this.$route.params.name).then(function(n){t.isLoading=!1,t.userinfo=n.data.data}).catch(function(t){console.log(t)})}},computed:{topcilimitby5:function(){if(this.userinfo.recent_topics)return this.userinfo.recent_topics.slice(0,5)},replylimitby5:function(){if(this.userinfo.recent_replies)return this.userinfo.recent_replies.slice(0,5)}},beforeMount:function(){this.isLoading=!0,this.getData()}},P={render:function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("div",{staticClass:"autherinfo"},[s("div",{staticClass:"authersummay"},[s("div",{staticClass:"topbar"},[t._v("作者")]),t._v(" "),s("router-link",{attrs:{to:{name:"user_info",params:{name:t.userinfo.loginname}}}},[s("img",{attrs:{src:t.userinfo.avatar_url,alt:""}})])],1),t._v(" "),s("div",{staticClass:"recent_topics"},[s("div",{staticClass:"topbar"},[t._v("作者最近主题")]),t._v(" "),s("ul",t._l(t.topcilimitby5,function(n){return s("li",[s("router-link",{attrs:{to:{name:"post_content",params:{id:n.id,name:n.author.loginname}}}},[t._v("\r\n          "+t._s(n.title)+"\r\n        ")])],1)}))]),t._v(" "),s("div",{staticClass:"recent_replies"},[s("div",{staticClass:"topbar"},[t._v("作者最近回复")]),t._v(" "),s("ul",t._l(t.replylimitby5,function(n){return s("li",[s("router-link",{attrs:{to:{name:"post_content",params:{id:n.id,name:n.author.loginname}}}},[t._v("\r\n          "+t._s(n.title)+"\r\n        ")])],1)}))])])},staticRenderFns:[]};var y=s("VU/8")(C,P,!1,function(t){s("qszj")},"data-v-43e7a5cc",null).exports;a.a.use(v.a);var k=new v.a({routes:[{path:"/",name:"root",components:{main:l}},{path:"/topic/:id&author=:name",name:"post_content",components:{main:f,SliderBar:y}},{path:"/user_info/:name",name:"user_info",components:{main:b}}]}),L=s("mtWM"),$=s.n(L);a.a.prototype.$http=$.a,a.a.config.productionTip=!1,new a.a({el:"#app",router:k,components:{App:_},template:"<App/>"}),a.a.filter("tabFormatter",function(t){return 1==t.good?"精华":1==t.top?"置顶":"ask"==t.tab?"问答":"share"==t.tab?"分享":"招聘"}),a.a.filter("formatDate",function(t){if(!t)return"";var n=new Date(t),s=(new Date).getTime()-n.getTime();return s<0?"":s/1e3<30?"刚刚":s/1e3<60?parseInt(s/1e3)+"秒前":s/6e4<60?parseInt(s/6e4)+"分钟前":s/36e5<24?parseInt(s/36e5)+"小时前":s/864e5<31?parseInt(s/864e5)+"天前":s/2592e6<12?parseInt(s/2592e6)+"月前":parseInt(s/31536e6)+"年前"})},oFyd:function(t,n){},qszj:function(t,n){},xkH5:function(t,n){},ySXB:function(t,n){},zdKG:function(t,n){}},["NHnr"]);
//# sourceMappingURL=app.cfafeda28bedbbd29f84.js.map